<script type='text/javascript'>
    metadata ={{{dump datasource_config}}};
</script>

<script id="item-template" type="text/x-handlebars-template">
    <li class="layout_block">
        <div class="grid_header">
            <span class="grid_header_controls">
                <a class="show-widget-pref" data-collapse="true"><i class="icon-cog"></i></a>
                <a class="expand-widget"><i class="icon-resize-full"></i></a>
                <a class="shrink-widget"><i class="icon-resize-small"></i></a>
                <a class="close-widget" href="#"><i class="icon-remove"></i></a>
            </span>
        </div>
        <div class="gadget-pref-cont">

        </div>
        <div class="designer-placeholder">

        </div>
        <div class="add-gadget-item">

        </div>
        <button class="btn btn-add-gadget">Add Gadget</button>

    </li>
</script>

<script id="item-template-blank" type="text/x-handlebars-template">
    <li class="layout_block">

        <div class="add-gadget-item">

        </div>

    </li>
</script>

<script id="create-new-connection" type="text/x-handlebars-template">
	<div class="row-fluid">
		<div class="span6 offset3 form-horizontal">		
	    [[#each createConnection]]
	 	<div class="control-group">
			<label class="control-label">[[this]]</label>
			<div class="controls">
				<input type="text"/>
			</div>
		</div>
	    [[/each]]
	    </div>
	</div>
</script>

<script id="sql-query-editor" type="text/x-handlebars-template">
	<div>
		<div class="row-fluid">
				<div class="span12 well">			
			    [[#each sqlEditor]]
			    <div class="control-group">
					<label class="control-label">[[this]]</label>
					
						<textarea class="inp-query span12" rows="2"/></textarea>
						<button class="btn btn-execQuery pull-right">Run</button>
					
				</div>
			    [[/each]]
			    
		     </div>
		</div>
	</div>
	<div class="row-fluid">
    	<div id="sql-editor-dataset" class="span8 offset2"></div>
    </div>
</script>

<script id="sql-query-table" type="text/x-handlebars-template">
	[[#if error]]
	<div class="alert alert-error">[[message]]</div>
	[[else]]
	<h4>Query Results</h4>
     <table class="table table-bordered table-queryPreview">
     	[[#each tableHeaders]]
     	<th>[[this]]</th>
     	[[/each]]
     	
     	[[#each tableRows]]
     	<tr>
     		[[#each .]]
     		<td>[[this]]</td>
     		[[/each]]
     	</tr>
     	[[/each]]
     </table>
     [[/if]]
</script>


<script id="data-mapping" type="text/x-handlebars-template">
	
	<div class="form-horizontal">
		 <div class="control-group">
			<label class="control-label">Series Label</label>
			<div class="controls">
				<input type="text"/>
			</div>
		</div>
		
		 [[#each dataColumns]]
		 
		  <div class="control-group">
			<label class="control-label">[[this]]</label>
			<div class="controls">
				 <select>
	                    [[#each ../columnHeaders]]
	                    <option>[[this]]</option>
	                    [[/each]]
	                </select>
			</div>
		</div>
	    [[/each]]
   </div>
</script>

<script id="data-mapping-extension" type="text/x-handlebars-template">
    <div>
        <div class="form-horizontal" id="data-labels">
            [[#each dataLabels]] 
			<div class="control-group">
				<label class="control-label">[[this]]</label>
				<div class="controls">
					<input type="text"/>
				</div>
			</div>
            [[/each]]
        </div>
        <div class="form-horizontal">
        	<div class="control-group">
				<label class="control-label">Update Interval</label>
				<div class="controls">
					<input type="text" id="refresh-sequence-input"/>
				</div>
			</div>
        </div>
        <hr>
        <div class="form-horizontal">
        	<div class="control-group">
				<label class="control-label"></label>
				<div class="controls">
					<button class="btn" id="mapping-add-series-btn">+
            </button>
				</div>
			</div>
            
        </div>
    </div>
</script>

<input type="hidden" value="{{mode}}" id="inp-view-mode"/>
<input type="hidden" value="{{dashboard}}" id="inp-dashboard"/>

<div id="gridster-cont" class="container-fluid">
    <span id="dashboardName"></span>

    <div class="layouts_grid" id="layouts_grid">
        <input type="hidden" id="inp-layout" value="{{layout}}">

        <div style="display: none" class="alert-bar"></div>
        <ul>
            <div id="grid-guides"></div>
            <li data-row="1" data-col="1" data-sizex="2" data-sizey="1" class="layout_block static">
                static
            </li>
            <li data-row="1" data-col="3" data-sizex="2" data-sizey="1" class="layout_block static">
                static
            </li>
            <li data-row="1" data-col="5" data-sizex="1" data-sizey="1" class="layout_block static">
                static
            </li>
            <li data-row="1" data-col="6" data-sizex="1" data-sizey="1" class="layout_block static">
                static
            </li>
        </ul>
    </div>

</div>
<!-- /container -->

<!-- Modal -->
<div id="modal-publish" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel"
     aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            <i class="icon-remove"></i>
        </button>
        <h3 id="myModalLabel">{{t "Publish Page"}}</h3>
    </div>
    <div class="modal-body">
        <div class="alert alert-block">

            <p>
                You are about to publish the page titled 'My Nice Page' to the Store. Best check yo self, you're not
                looking too good. Nulla vitae elit libero, a pharetra augue. Praesent commodo cursus magna, vel
                scelerisque nisl consectetur et.
            </p>
        </div>
        <div>
            <div class="form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="inputEmail">Property 1</label>

                    <div class="controls">
                        <input type="text" id="inputEmail" placeholder="Property 1">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="inputPassword">Property 2</label>

                    <div class="controls">
                        <input type="password" id="inputPassword" placeholder="Propery 2">
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <label class="checkbox">
                            <input type="checkbox">
                            {{t "Check this please"}} </label>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">

        <button class="btn btn-primary">
            {{t "Publish"}}
        </button>
    </div>
</div>

<!-- Modal -->
<!--<div id="modal-add-gadget" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel" aria-hidden="true">-->
<!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">-->
<!--<i class="icon-remove"></i>-->
<!--</button>-->
<!--<div id="store-gadget-div"></div>-->
<!--</div>-->

<!--------------------------------------- start gadget-gen-ui---------------------------------------------->

<!-- Modal -->
<div id="modal-flow-start" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel"
aria-hidden="true">

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove"></i>
		</button>
		<h3>Create new gadget</h3>
	</div>
	<div class="modal-body">
		<div class="gadget-gen-ui">

			<div class="form-horizontal">
				<div class="control-group">
					<label class="control-label" for="inputEmail">Select data source</label>
					<div class="controls">
						<select id="data_source_drop_dwn">

							{{#each datasource_config.dataSources}}
							<option value="{{this}}">{{this}}</option>
							{{/each}}
						</select>
					</div>
				</div>
			</div>

		</div>
	</div>
	<div class="modal-footer">
		<button id="add-gadget-btn-next" class="btn btn-primary">
			Next
		</button>
	</div>
</div>


<!-- Modal -->
<div id="modal-create-new-connection" class="modal hide fade" tabindex="-1" role="dialog"
aria-labelledby="publishModalLabel" aria-hidden="true">

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove"></i>
		</button>
		<h3>Create new connection</h3>
	</div>
	<div class="modal-body">
		<div id="modal-create-new-connection-data"></div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" id="create-connection-btn-back">
			Back
		</button>
		<button class="btn btn-primary" id="create-connection-btn-next">
			Next
		</button>
	</div>
</div>

<!-- Modal -->
<div id="modal-sql-query-editor" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel"
     aria-hidden="true">
     
     <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove"></i>
		</button>
		<h3>SQL Editor</h3>
	</div>
	<div class="modal-body">
		  <div id="modal-sql-query-editor-data"></div>
	</div>
	<div class="modal-footer">
		  <button id="sql-connection-btn-back" class="btn btn-primary">Back
        </button>
        <button id="sql-connection-btn-next" class="btn btn-primary">Next
        </button>
	</div>
</div>


<div id="modal-add-gadget" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel"
aria-hidden="true">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
		<i class="icon-remove"></i>
	</button>
	<!--<div id="store-gadget-div"></div>-->

	<div class="modal-footer">
		<button class="btn btn-primary" id="add-gadget-window-btn-back">
			Back
		</button>

	</div>

</div>


<!-- Modal -->
<div id="modal-data-mapper" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel"
aria-hidden="true">

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove"></i>
		</button>
		<h3>Data mapping</h3>

	</div>
	<div class="modal-body">
		<!--
		<div id="modal-data-mapping"></div>
				<div id="modal-data-mapping-extension-space"></div>-->
		
	</div>
	<div class="modal-footer">
		<button id="flow-finish-btn-back" class="btn btn-primary">
			Back
		</button>
		<button id="flow-finish-btn-next" class="btn btn-primary">
			Next
		</button>
	</div>
</div>

<!--------------------------------end of the gadget-gen-ui--------------------------------------------->

<!-- Modal -->
<div id="modal-new-dir" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true">

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove"></i>
		</button>
	</div>
	<div class="modal-body">
		<div class="form-horizontal">
			<div class="control-group">
				<label class="control-label" for="inp-title">{{t "Enter new directory name"}}</label>

				<div class="controls">
					<input type="text" id="inp-title" class="input-xlarge">
				</div>
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<button id="btn-new-site" class="btn btn-primary">
			{{t "Create directory"}}
		</button>
	</div>
</div>


<!-- Modal -->
<div id="modal-add-gadget-wizard" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="publishModalLabel"
aria-hidden="true">

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove"></i>
		</button>
		<h3>Add Gadget</h3>
	</div>
	<div class="modal-body">
		<div id="wizard-add-gadget">
                        <h3>Select Data Source</h3>
                        <section>
                        	<div>
								<div class="row-fluid">
									{{#each datasource_config.dataSources}}
									<div class="span4">
										<a href="#" class="wizard-dsType" data-dsType="{{dataSource}}"> 
											<i class="wizard-icon {{icon}}"></i>
											<br>
											<p><strong>{{dataSource}}</strong></p> 
										</a>
									</div>
									{{/each}}
									<input type="hidden" name="wizard-dsTypeSel" id="wizard-dsTypeSel" value="">
								</div>
							</div>
						</section>

                        <h3>Configure Data Source</h3>
                        <section>
                           
                        </section>

                        <h3>Select Dataset</h3>
                        <section>
                          
                        </section>
                        
                         <h3>Select a Gadget</h3>
                        <section>
                            <div id="store-gadget-div"></div>
                        </section>

                        <h3>Preview</h3>
                        <section>
                        	<div class="row-fluid">
                        		<div class="span6">
                        			 <div id="modal-data-mapping"></div>
									<div id="modal-data-mapping-extension-space"></div>
                        			<br>
                        			<button class="btn" id="btn-preview-gadget" style="position: absolute; top: 0;">Preview</button>
                        		</div>
                        		<div class="span6">
                        			<div id="gadget-preview"></div>
                        		</div>
                        	</div>
                           
							
                        </section>
                    </div>
	</div>
	<div class="modal-footer">
		<button id="wizard-add-gadget-btn-prev" class="btn btn-primary btn-large">
			Previous
		</button>
		<button id="wizard-add-gadget-btn-next" class="btn btn-primary btn-large">
			Next
		</button>
		<button id="wizard-add-gadget-btn-finish" class="btn btn-primary btn-large" style="display:none">
			Finish
		</button>
	</div>
</div>





